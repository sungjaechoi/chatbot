# 채팅 응답 가독성 개선 요청 분석

## 요청 내용
- API 응답의 answer 필드에 마크다운 형식(번호 리스트, 볼드 등)이 포함되어 있으나 프론트엔드에서 plain text로 표시됨
- '페이지 undefined' 문제가 응답에 포함됨

## 현재 상태 분석

### API 응답 구조 (ChatResponse)
```typescript
interface ChatResponse {
  answer: string;  // 마크다운 포함
  sources: ChatSource[];
}
```

### 프론트엔드 렌더링 (MessageListView.tsx)
- 71-73번 줄: `<p className="whitespace-pre-wrap">{message.content}</p>`
- 마크다운 파싱 없이 그대로 텍스트 출력 중

### 원인 분석
1. **마크다운 미렌더링**: react-markdown 등 파싱 라이브러리 미사용
2. **페이지 undefined 문제**: LLM 프롬프트에서 페이지 정보가 제대로 전달되지 않을 수 있음 (백엔드 이슈 가능성)

## 해결 방안

### 프론트엔드 (우선 작업)
- react-markdown 라이브러리로 마크다운 렌더링 구현
- 커스텀 스타일링으로 가독성 향상

### 백엔드 (추후 확인 필요)
- '페이지 undefined' 문제는 retriever나 LLM 프롬프트 단에서 pageNumber가 누락되는 경우 발생
- 현재 요청에서는 프론트엔드 가독성 개선에 집중

## 작업 범위
- **Frontend**: 마크다운 렌더링 구현 (주요 작업)
- **Backend**: 현재 요청에서는 제외 (페이지 undefined는 별도 이슈로 분리)
