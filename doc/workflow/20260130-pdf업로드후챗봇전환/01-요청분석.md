# 요청 분석: 20260130-pdf업로드후챗봇전환

## 작업 개요

| 항목 | 내용 |
|------|------|
| **작업 ID** | 20260130-pdf업로드후챗봇전환 |
| **분석 일시** | 2026-01-30 |
| **요청 요약** | 루트(/) 및 챗봇 화면에서 새 PDF 업로드 시 해당 PDF로 챗봇 자동 전환 |

## 요구사항

### 기능 요구사항

1. 루트(/) 페이지에서 PDF 업로드 완료 시, 새로 업로드된 PDF의 채팅 화면(/chat/[pdfId])으로 자동 이동
2. 챗봇 화면(/chat/[pdfId])에서 모달로 새 PDF 업로드 완료 시, 새 PDF의 채팅 화면으로 자동 전환
3. 챗봇 전환 시 기존 채팅 메시지 초기화 및 새 PDF 컨텍스트로 RAG 파이프라인 연결

### 비기능 요구사항

해당 없음

## 작업 범위

| 영역 | 작업 내용 |
|------|-----------|
| **Backend** | 수정 불필요 (API가 이미 pdfId 반환) |
| **Frontend** | PdfUploadContainer, PdfUploadModalContainer, 루트/챗봇 page.tsx 수정 |

## 완료 조건

- [ ] 루트 페이지에서 업로드 완료 시 /chat/[newPdfId]로 자동 이동
- [ ] 챗봇 페이지에서 업로드 완료 시 /chat/[newPdfId]로 자동 전환
- [ ] TypeScript 타입 오류 없음
- [ ] 빌드 에러 없음

## 실행 계획

| 순서 | 에이전트 | 작업 내용 |
|------|----------|-----------|
| 1 | backend-developer | Backend API 검토 (수정 불필요 확인) |
| 2 | frontend-developer | PDF 업로드 완료 시 새 PDF 채팅 화면으로 자동 전환 구현 |
| 3 | reviewer | 코드 품질 검증 |

## 리스크 및 주의사항

- onUploadComplete 콜백 시그니처 변경 시 기존 호출부 모두 업데이트 필요
- router.push 호출 시 fetchCollections 완료 후 새 pdfId로 라우팅해야 함
- 업로드 실패 시 라우팅하지 않도록 에러 핸들링 확인

---
*생성: Orchestrator | 일시: 2026-01-30*
